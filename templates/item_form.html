{% extends "base.html" %}
{% block content %}
<h3>{{ "Edit Item" if item else "New Item" }}</h3>
{% if item %}
<div class="alert alert-info mb-3">
  <strong>SKU:</strong> {{ item.sku }}
</div>
{% endif %}
<form method="post" class="mt-3">
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Name *</label>
      <input class="form-control" name="name" required value="{{ item.name if item else "" }}">
    </div>
    <div class="col-md-3">
      <label class="form-label">Category</label>
      <input class="form-control" name="category" value="{{ item.category if item else "" }}">
    </div>
    <div class="col-md-3">
      <label class="form-label">Unit of Measure *</label>
      <select class="form-select" name="unit" required>
        <option value="">-- Select Unit --</option>
        <option value="pcs" {% if item and item.unit == "pcs" %}selected{% endif %}>pcs - Pieces</option>
        <option value="set" {% if item and item.unit == "set" %}selected{% endif %}>set - Set</option>
        <option value="box" {% if item and item.unit == "box" %}selected{% endif %}>box - Box</option>
        <option value="pack" {% if item and item.unit == "pack" %}selected{% endif %}>pack - Pack</option>
        <option value="bag" {% if item and item.unit == "bag" %}selected{% endif %}>bag - Bag</option>
        <option value="kg" {% if item and item.unit == "kg" %}selected{% endif %}>kg - Kilogram</option>
        <option value="g" {% if item and item.unit == "g" %}selected{% endif %}>g - Grams</option>
        <option value="L" {% if item and item.unit == "L" %}selected{% endif %}>L - Litres</option>
        <option value="ml" {% if item and item.unit == "ml" %}selected{% endif %}>ml - Millilitres</option>
        <option value="tin" {% if item and item.unit == "tin" %}selected{% endif %}>tin - Tin/Can</option>
        <option value="bottle" {% if item and item.unit == "bottle" %}selected{% endif %}>bottle - Bottle</option>
        <option value="roll" {% if item and item.unit == "roll" %}selected{% endif %}>roll - Roll</option>
        <option value="tube" {% if item and item.unit == "tube" %}selected{% endif %}>tube - Tube</option>
        <option value="pkt" {% if item and item.unit == "pkt" %}selected{% endif %}>pkt - Packet</option>
        <option value="kit" {% if item and item.unit == "kit" %}selected{% endif %}>kit - Kit</option>
      </select>
      <small class="text-muted">Select the appropriate unit for this item</small>
    </div>
    <div class="col-md-3">
      <label class="form-label">Min Qty</label>
      <input class="form-control" type="number" name="min_qty" value="{{ item.min_qty if item else 0 }}">
    </div>
    <div class="col-md-3">
      <label class="form-label">Expiry Date</label>
      <input class="form-control" type="date" name="expiry_date" value="{{ item.expiry_date.isoformat() if item and item.expiry_date else "" }}">
      <small class="text-muted">For perishable items</small>
    </div>
    <div class="col-12">
      <label class="form-label">Storage Requirements</label>
      <textarea class="form-control" name="storage_requirements" rows="2" placeholder="e.g., Keep refrigerated, Store in cool dry place, Avoid direct sunlight">{{ item.storage_requirements if item else "" }}</textarea>
    </div>
    <div class="col-12">
      <label class="form-label">Description</label>
      <textarea class="form-control" name="description" rows="3" placeholder="Optional description or notes about this item">{{ item.description if item else "" }}</textarea>
    </div>
  </div>
  <div class="mt-3">
    <button class="btn btn-primary">Save</button>
    <a class="btn btn-secondary" href="{{ url_for('items') }}">Cancel</a>
  </div>
  {% if not item %}
  <small class="text-muted">Note: SKU will be automatically generated when you save this item.</small>
  {% endif %}
</form>
{% endblock %}
