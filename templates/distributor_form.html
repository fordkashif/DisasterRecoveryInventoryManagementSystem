{% extends "base.html" %}
{% block content %}
<div class="row">
  <div class="col-md-6">
    <h3>{% if distributor %}Edit Distributor{% else %}New Distributor{% endif %}</h3>
    
    <form method="post">
      <div class="mb-3">
        <label class="form-label">Name *</label>
        <input class="form-control" type="text" name="name" 
               value="{{ distributor.name if distributor else '' }}" 
               placeholder="e.g., John Smith" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Contact</label>
        <input class="form-control" type="text" name="contact" 
               value="{{ distributor.contact if distributor else '' }}" 
               placeholder="Phone or email">
      </div>
      
      <div class="mb-3">
        <label class="form-label">Organization</label>
        <input class="form-control" type="text" name="organization" 
               value="{{ distributor.organization if distributor else '' }}" 
               placeholder="e.g., Red Cross Jamaica">
      </div>
      
      <hr class="my-4">
      <h5 class="mb-3"><i class="bi bi-geo-alt me-2"></i>Location Information</h5>
      <p class="text-muted small">This information helps assign packages to the nearest warehouse.</p>
      
      <div class="mb-3">
        <label class="form-label">Parish</label>
        <select class="form-select" name="parish">
          <option value="">-- Select Parish --</option>
          {% for p in parishes %}
            <option value="{{ p }}" {% if distributor and distributor.parish == p %}selected{% endif %}>{{ p }}</option>
          {% endfor %}
        </select>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Address</label>
        <textarea class="form-control" name="address" rows="2" 
                  placeholder="Full address or landmark">{{ distributor.address if distributor else '' }}</textarea>
      </div>
      
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Latitude <small class="text-muted">(optional)</small></label>
          <input class="form-control" type="number" step="any" name="latitude" 
                 value="{{ distributor.latitude if distributor and distributor.latitude else '' }}" 
                 placeholder="18.0179">
        </div>
        <div class="col-md-6 mb-3">
          <label class="form-label">Longitude <small class="text-muted">(optional)</small></label>
          <input class="form-control" type="number" step="any" name="longitude" 
                 value="{{ distributor.longitude if distributor and distributor.longitude else '' }}" 
                 placeholder="-76.8099">
        </div>
      </div>
      
      <div class="d-flex gap-2 mt-3">
        <button class="btn btn-primary" type="submit">
          <i class="bi bi-check-lg me-1"></i>{% if distributor %}Update{% else %}Create{% endif %}
        </button>
        <a class="btn btn-outline-secondary" href="{{ url_for('distributors') }}">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
